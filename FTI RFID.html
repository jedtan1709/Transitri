<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FTI ARCA SOUTH - RFID Scanner</title>
    <style>
        :root {
            --primary-color: #FFC107;  /* Amber yellow */
            --secondary-color: #FFA000;  /* Darker amber */
            --accent-color: #FF6F00;  /* Deep orange accent */
            --light-color: #FFF8E1;  /* Light amber background */
            --dark-color: #5D4037;  /* Brown for text */
            --admin-color: #673AB7;  /* Purple for admin */
            --success-color: #689F38;  /* Green for success */
            --danger-color: #D32F2F;  /* Red for errors */
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #FFFDE7 0%, #FFF9C4 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        header {
            background-color: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--primary-color);
        }
        
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--dark-color);
            margin-right: 1.5rem;
        }
        
        .terminal-badge {
            background-color: var(--primary-color);
            color: var(--dark-color);
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            font-size: 0.95rem;
            font-weight: 600;
        }
        
        .user-info {
            display: flex;
            align-items: center;
        }
        
        .user-info span {
            margin-right: 1rem;
            color: var(--dark-color);
            font-weight: 500;
        }
        
        .admin-name {
            font-weight: 600;
            color: var(--admin-color);
        }
        
        .logout-btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .logout-btn:hover {
            background-color: #E65100;
        }

         .back-btn {
            background-color: var(--primary-color);
            color: var(--dark-color);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .back-btn:hover {
            background-color: var(--secondary-color);
            color: white;
        }
        

        
        .scanner-container {
            background-color: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            border: 1px solid var(--primary-color);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .page-title {
            color: var(--dark-color);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary-color);
            display: flex;
            align-items: center;
        }
        
        .page-title::before {
            content: "‚è±Ô∏è";
            margin-right: 0.5rem;
        }
        
        .page-description {
            color: var(--dark-color);
            opacity: 0.8;
            margin-bottom: 2rem;
        }
        
        .scanner-status {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-radius: 6px;
            background-color: #FFF9C4;
            margin-bottom: 1.5rem;
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 0.8rem;
        }
        
        .status-active {
            background-color: var(--success-color);
        }
        
        .status-inactive {
            background-color: var(--danger-color);
        }
        
        .scanner-box {
            border: 2px dashed var(--primary-color);
            border-radius: 10px;
            padding: 3rem 2rem;
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .scanner-icon {
            font-size: 4rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }
        
        .scanner-instruction {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--dark-color);
        }
        
        .scanner-animation {
            width: 100px;
            height: 10px;
            background-color: var(--primary-color);
            border-radius: 5px;
            margin: 2rem auto;
            position: relative;
            overflow: hidden;
        }
        
        .scanner-animation::after {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
            animation: scanning 2s infinite;
        }
        
        @keyframes scanning {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .scanner-result {
            display: none;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1rem;
            width: 100%;
        }
        
        .result-success {
            background-color: rgba(104, 159, 56, 0.1);
            border: 1px solid rgba(104, 159, 56, 0.3);
            color: var(--success-color);
            display: block;
        }
        
        .result-error {
            background-color: rgba(211, 47, 47, 0.1);
            border: 1px solid rgba(211, 47, 47, 0.3);
            color: var(--danger-color);
            display: block;
        }
        
        .driver-info {
            display: flex;
            gap: 1.5rem;
            margin-top: 1.5rem;
            text-align: left;
            width: 100%;
        }
        
        .driver-photo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary-color);
        }
        
        .driver-details {
            flex-grow: 1;
        }
        
        .driver-name {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark-color);
        }
        
        .driver-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .driver-meta-item {
            background-color: #FFF9C4;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            font-size: 0.9rem;
        }
        
        .vehicle-info {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px dashed #ddd;
        }
        
        .btn {
            background-color: var(--primary-color);
            color: var(--dark-color);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }
        
        .btn:hover {
            background-color: var(--secondary-color);
            color: white;
            transform: translateY(-2px);
        }
        
        .btn-confirm {
            background-color: var(--success-color);
            color: white;
        }
        
        .btn-confirm:hover {
            background-color: #558B2F;
        }
        
        .btn-cancel {
            background-color: var(--danger-color);
            color: white;
        }
        
        .btn-cancel:hover {
            background-color: #B71C1C;
        }
        
        .btn-group {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }
        
        .scan-history {
            margin-top: 2rem;
        }
        
        .history-title {
            color: var(--dark-color);
            margin-bottom: 1rem;
            font-weight: 600;
        }
        
        .history-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .history-table th,
        .history-table td {
            padding: 0.8rem;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .history-table th {
            background-color: #FFF9C4;
            color: var(--dark-color);
            font-weight: 600;
        }
        
        .history-table tr:hover {
            background-color: #FFFDE7;
        }
        
        .status-badge {
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .badge-success {
            background-color: rgba(104, 159, 56, 0.2);
            color: var(--success-color);
        }
        
        .badge-warning {
            background-color: rgba(255, 193, 7, 0.2);
            color: #FFA000;
        }
        
        .badge-error {
            background-color: rgba(211, 47, 47, 0.2);
            color: var(--danger-color);
        }
        footer {
            text-align: center;
            padding: 1px;
            background-color: #FFF9C4;
            color: #7e7d7d;
            font-size: 14px;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
        
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <h1>FTI ARCA SOUTH</h1>
            <div class="terminal-badge">TRICYCLE TERMINAL</div>
        </div>
        <div class="user-info">
            <span>Welcome, <span class="admin-name" id="current-admin">Admin</span></span>
            <button class="logout-btn">Logout</button>
        </div>
    </header>
    
    <main>
        <div class="scanner-container">
            <h1 class="page-title">03.10 Time In with RFID</h1>
            <p class="page-description">Record driver time-in using RFID scanning technology for accurate attendance tracking.</p>
            
            <div class="scanner-status">
                <div class="status-indicator status-active"></div>
                <span>RFID Scanner: <strong>Active</strong> | Last scan: Today, 09:15 AM</span>
            </div>
            
            <div class="scanner-box" id="scanner-area">
                <div class="scanner-icon">üì±</div>
                <div class="scanner-instruction">Scan Driver's RFID Tag</div>
                <div class="scanner-animation"></div>
                <div class="scanner-result" id="scan-result"></div>
                
                <div id="driver-details" style="display: none;">
                    <div class="driver-info">
                        <img src="https://randomuser.me/api/portraits/men/1.jpg" alt="Driver" class="driver-photo">
                        <div class="driver-details">
                            <div class="driver-name" id="driver-name">Juan Dela Cruz</div>
                            <div class="driver-meta">
                                <span class="driver-meta-item">ID: DRV-001</span>
                                <span class="driver-meta-item">RFID: FTI-987654</span>
                                <span class="driver-meta-item">Status: Active</span>
                            </div>
                            <div class="vehicle-info">
                                <strong>Vehicle:</strong> Honda TMX 155 (ABC 1234)
                            </div>
                        </div>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn btn-confirm" id="confirm-timein">Confirm Time In</button>
                        <button class="btn btn-cancel" id="cancel-scan">Cancel</button>
                    </div>
                </div>
            </div>
            
            <div class="scan-history">
                <h3 class="history-title">Today's Scan History</h3>
                <table class="history-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Driver</th>
                            <th>RFID Tag</th>
                            <th>Vehicle</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>09:15 AM</td>
                            <td>Juan Dela Cruz</td>
                            <td>FTI-987654</td>
                            <td>Honda TMX 155</td>
                            <td><span class="status-badge badge-success">Time In</span></td>
                        </tr>
                        <tr>
                            <td>08:45 AM</td>
                            <td>Maria Reyes</td>
                            <td>FTI-123456</td>
                            <td>Suzuki Raider 150</td>
                            <td><span class="status-badge badge-success">Time In</span></td>
                        </tr>
                        <tr>
                            <td>08:30 AM</td>
                            <td>Pedro Santos</td>
                            <td>FTI-567890</td>
                            <td>Yamaha Sniper 150</td>
                            <td><span class="status-badge badge-warning">Late</span></td>
                        </tr>
                        <tr>
                            <td>08:15 AM</td>
                            <td>Antonio Bautista</td>
                            <td>FTI-345678</td>
                            <td>Kawasaki Barako 175</td>
                            <td><span class="status-badge badge-error">Invalid Tag</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>
<script>
    const historyTableBody = document.querySelector('.history-table tbody');
    const paginationContainer = document.createElement('div');
    paginationContainer.className = 'pagination';
    document.querySelector('.scan-history').appendChild(paginationContainer);

    let scanHistory = []; // store all scan records
    let currentPage = 1;
    const rowsPerPage = 10; // show 10 per page

    // Render history with pagination
    function renderHistory() {
        const totalRows = scanHistory.length;
        const totalPages = Math.ceil(totalRows / rowsPerPage);

        // Clear table
        historyTableBody.innerHTML = '';

        // Slice rows for current page
        const start = (currentPage - 1) * rowsPerPage;
        const end = start + rowsPerPage;
        const rows = scanHistory.slice(start, end);

        rows.forEach(item => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td>${item.time}</td>
                <td>${item.driver}</td>
                <td>${item.rfid}</td>
                <td>${item.vehicle}</td>
                <td><span class="status-badge ${item.statusClass}">${item.status}</span></td>
            `;
            historyTableBody.appendChild(tr);
        });

        // Render pagination
        paginationContainer.innerHTML = '';

        if (totalPages > 1) {
            const prevBtn = document.createElement('button');
            prevBtn.textContent = '‚ùÆ Prev';
            prevBtn.disabled = currentPage === 1;
            prevBtn.onclick = () => { currentPage--; renderHistory(); };
            paginationContainer.appendChild(prevBtn);

            for (let i = 1; i <= totalPages; i++) {
                if (i > 100) break; // Limit to 100 pages
                const btn = document.createElement('button');
                btn.textContent = i;
                btn.className = (i === currentPage ? 'active' : '');
                btn.onclick = () => { currentPage = i; renderHistory(); };
                paginationContainer.appendChild(btn);
            }

            const nextBtn = document.createElement('button');
            nextBtn.textContent = 'Next ‚ùØ';
            nextBtn.disabled = currentPage === totalPages;
            nextBtn.onclick = () => { currentPage++; renderHistory(); };
            paginationContainer.appendChild(nextBtn);
        }
    }

    // Helper: format time
    function getCurrentTime() {
        const now = new Date();
        return now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    }

    // Modify Confirm Time In button to add new row
    document.getElementById('confirm-timein').addEventListener('click', function() {
        const driverName = document.getElementById('driver-name').textContent;
        const rfid = document.querySelector('.driver-meta-item:nth-child(2)').textContent.replace('RFID: ', '');
        const vehicle = document.querySelector('.vehicle-info').textContent.replace('Vehicle:', '').trim();

        scanHistory.unshift({
            time: getCurrentTime(),
            driver: driverName,
            rfid: rfid,
            vehicle: vehicle,
            status: 'Time In',
            statusClass: 'badge-success'
        });

        renderHistory();

        // Reset scanner
        document.getElementById('scan-result').style.display = 'none';
        document.getElementById('driver-details').style.display = 'none';
    });

    // Initialize with some dummy rows (optional demo)
    scanHistory = [
        {time:'09:15 AM', driver:'Juan Dela Cruz', rfid:'FTI-987654', vehicle:'Honda TMX 155', status:'Time In', statusClass:'badge-success'},
        {time:'08:45 AM', driver:'Maria Reyes', rfid:'FTI-123456', vehicle:'Suzuki Raider 150', status:'Time In', statusClass:'badge-success'},
        {time:'08:30 AM', driver:'Pedro Santos', rfid:'FTI-567890', vehicle:'Yamaha Sniper 150', status:'Late', statusClass:'badge-warning'},
        {time:'08:15 AM', driver:'Antonio Bautista', rfid:'FTI-345678', vehicle:'Kawasaki Barako 175', status:'Invalid Tag', statusClass:'badge-error'}
    ];
    renderHistory();
</script>

    <script>
        // Get current admin name (from localStorage or default)
        document.getElementById('current-admin').textContent = localStorage.getItem('currentAdmin') || 'Admin';
        
        // RFID Scanner Simulation
        const scannerArea = document.getElementById('scanner-area');
        const scanResult = document.getElementById('scan-result');
        const driverDetails = document.getElementById('driver-details');
        
        // Sample driver data
        const drivers = {
            'FTI-987654': {
                name: 'Juan Dela Cruz',
                id: 'DRV-001',
                photo: 'https://randomuser.me/api/portraits/men/1.jpg',
                status: 'Active',
                vehicle: 'Honda TMX 155 (ABC 1234)',
                lastScan: 'Yesterday, 5:30 PM'
            },
            'FTI-123456': {
                name: 'Maria Reyes',
                id: 'DRV-002',
                photo: 'https://randomuser.me/api/portraits/women/1.jpg',
                status: 'Active',
                vehicle: 'Suzuki Raider 150 (DEF 5678)',
                lastScan: 'Yesterday, 6:15 PM'
            },
            'FTI-567890': {
                name: 'Pedro Santos',
                id: 'DRV-003',
                photo: 'https://randomuser.me/api/portraits/men/2.jpg',
                status: 'Active',
                vehicle: 'Yamaha Sniper 150 (GHI 9012)',
                lastScan: 'Yesterday, 5:45 PM'
            }
        };
        
        // Simulate RFID scan when clicking the scanner area
        scannerArea.addEventListener('click', function() {
            if (driverDetails.style.display === 'block') return;
            
            // Show scanning state
            scanResult.textContent = 'Scanning RFID tag...';
            scanResult.style.display = 'block';
            scanResult.className = 'scanner-result';
            
            // Simulate scan delay
            setTimeout(() => {
                // 80% chance of success for demo
                const isSuccess = Math.random() > 0.2;
                
                if (isSuccess) {
                    // Randomly select a driver for demo
                    const tags = Object.keys(drivers);
                    const randomTag = tags[Math.floor(Math.random() * tags.length)];
                    const driver = drivers[randomTag];
                    
                    // Display success and driver info
                    scanResult.textContent = `RFID Tag Detected: ${randomTag}`;
                    scanResult.className = 'scanner-result result-success';
                    
                    // Show driver details
                    document.getElementById('driver-name').textContent = driver.name;
                    document.querySelector('.driver-photo').src = driver.photo;
                    document.querySelector('.driver-meta-item:nth-child(1)').textContent = `ID: ${driver.id}`;
                    document.querySelector('.driver-meta-item:nth-child(2)').textContent = `RFID: ${randomTag}`;
                    document.querySelector('.driver-meta-item:nth-child(3)').textContent = `Status: ${driver.status}`;
                    document.querySelector('.vehicle-info').innerHTML = `<strong>Vehicle:</strong> ${driver.vehicle}`;
                    
                    driverDetails.style.display = 'block';
                } else {
                    // Display error
                    scanResult.textContent = 'Error: No RFID tag detected or invalid tag';
                    scanResult.className = 'scanner-result result-error';
                    
                    // Hide after 3 seconds
                    setTimeout(() => {
                        scanResult.style.display = 'none';
                    }, 3000);
                }
            }, 1500);
        });
        
        // Confirm Time In button
        document.getElementById('confirm-timein').addEventListener('click', function() {
            const driverName = document.getElementById('driver-name').textContent;
            alert(`Time In recorded for ${driverName}`);
            
            // Reset scanner
            scanResult.style.display = 'none';
            driverDetails.style.display = 'none';
            
            // In real app, would update the history table
        });
        
        // Cancel button
        document.getElementById('cancel-scan').addEventListener('click', function() {
            scanResult.style.display = 'none';
            driverDetails.style.display = 'none';
        });
        
        // Logout functionality
        document.querySelector('.logout-btn').addEventListener('click', function() {
            localStorage.removeItem('currentAdmin');
            window.location.href = 'FTI Log&Sign.html';
        });
    </script>
         <button class="back-btn" onclick="window.history.back()">
            ‚Üê Back
        </button>
         <footer>
    <p>Created by Bacanto, Nacion, and Tan</p>
</footer>
</body>
</html>